%% Heading of trajectory calculation
filtered_points = readtable('midline_points.csv');

% filtered_points generated by rodas node
% x = filtered_points.Var2;
% y = filtered_points.Var3;

% filtered_points generated by GRO
x = filtered_points.Var1;
y = filtered_points.Var2;

heading = zeros(length(x)-1,1);
for k=1:length(x)-1
    xv = x(k+1)-x(k);
    yv = y(k+1)-y(k);
    heading(k) = atan2(yv,xv);
end

% % Plot only middle trajectory
% cones = readtable('Germany2019.txt');
% figure()
% plot(cones.Var1,cones.Var2,'.','Color','g')
% hold on
% plot(x,y,'.','Color','r')

